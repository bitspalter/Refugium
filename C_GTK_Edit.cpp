//////////////////////////////////////////////////////////////////////////////////
// [ GTK_Edit_Class_Source ]
//////////////////////////////////////////////////////////////////////////////////

#include "C_GTK_Edit.hpp"

//////////////////////////////////////////////////////////////////////////////////
// [Konstructor]  
//////////////////////////////////////////////////////////////////////////////////
C_GTK_Edit::C_GTK_Edit(){
   this->pedit  = 0;
   this->status = C_GTK_EDIT_ERROR;
}
//////////////////////////////////////////////////////////////////////////////////
// [Destructor]
//////////////////////////////////////////////////////////////////////////////////
C_GTK_Edit::~C_GTK_Edit(){

}
//////////////////////////////////////////////////////////////////////////////////
// [create]
//////////////////////////////////////////////////////////////////////////////////
GtkWidget* C_GTK_Edit::create(int size){
  
   if(this->status == C_GTK_EDIT_READY) return(this->pedit);
   
   this->pedit = gtk_entry_new();
   if(!this->pedit) return(C_GTK_EDIT_ERROR);
   
   this->status = C_GTK_EDIT_READY;
   
   gtk_entry_set_width_chars(GTK_ENTRY(this->pedit), size);
   
   return(this->pedit);
}
//////////////////////////////////////////////////////////////////////////////////
// [getEdit]
//////////////////////////////////////////////////////////////////////////////////
GtkWidget* C_GTK_Edit::getEdit(){
  
   if(this->status != C_GTK_EDIT_READY) return(C_GTK_EDIT_ERROR);
   
   return(this->pedit);
}
//////////////////////////////////////////////////////////////////////////////////
// [getText]
//////////////////////////////////////////////////////////////////////////////////
int C_GTK_Edit::getText(string* pOut){
  
   if(this->status != C_GTK_EDIT_READY) return(C_GTK_EDIT_ERROR);
   
   if(!pOut) return(C_GTK_EDIT_ERROR);
   
   *pOut = gtk_entry_get_text(GTK_ENTRY(this->pedit));

   return(C_GTK_EDIT_READY);
}
//////////////////////////////////////////////////////////////////////////////////
// [setPass]
//////////////////////////////////////////////////////////////////////////////////
int C_GTK_Edit::setPass(char* pch){
  
   if(this->status != C_GTK_EDIT_READY) return(C_GTK_EDIT_ERROR);
   
   gtk_entry_set_visibility(GTK_ENTRY(this->pedit), false);
   
   gtk_entry_set_invisible_char(GTK_ENTRY(this->pedit), '*');

   return(C_GTK_EDIT_READY);
}
//////////////////////////////////////////////////////////////////////////////////
// [hide]
//////////////////////////////////////////////////////////////////////////////////
int C_GTK_Edit::hide(){
  
   if(this->status != C_GTK_EDIT_READY) return(C_GTK_EDIT_ERROR);
   
   gtk_widget_hide(this->pedit);
   
   return(C_GTK_EDIT_READY);
}
//////////////////////////////////////////////////////////////////////////////////
// [show]
//////////////////////////////////////////////////////////////////////////////////
int C_GTK_Edit::show(){
  
   if(this->status != C_GTK_EDIT_READY) return(C_GTK_EDIT_ERROR);
   
   gtk_widget_show(this->pedit);
   
   return(C_GTK_EDIT_READY);
}